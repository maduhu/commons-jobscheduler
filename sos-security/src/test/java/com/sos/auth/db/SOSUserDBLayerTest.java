package com.sos.auth.db;

import static org.junit.Assert.*;

import java.io.File;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.List;

import org.hibernate.Query;
 
import org.junit.After;
import org.junit.AfterClass;
import org.junit.Before;
import org.junit.BeforeClass;
import org.junit.Test;

import com.sos.auth.shiro.db.SOSUser2RoleDBItem;
import com.sos.auth.shiro.db.SOSUserDBItem;
import com.sos.auth.shiro.db.SOSUserDBLayer;
import com.sos.auth.shiro.db.SOSUserRightDBItem;

 
 

/**
* \class SOSUserDBLayerTest 
* 
* \brief SOSUserDBLayerTest - 
* 
* \details
*
* \section SOSUserDBLayerTest.java_intro_sec Introduction
*
* \section SOSUserDBLayerTest.java_samples Some Samples
*
* \code
*   .... code goes here ...
* \endcode
*
* <p style="text-align:center">
* <br />---------------------------------------------------------------------------
* <br /> APL/Software GmbH - Berlin
* <br />##### generated by ClaviusXPress (http://www.sos-berlin.com) #########
* <br />---------------------------------------------------------------------------
* </p>
* \author Uwe Risse
* \version 13.10.2011
* \see reference
*
* Created on 13.10.2011 10:34:41
 */

public class SOSUserDBLayerTest {

	@SuppressWarnings("unused")
	private final String	conClassName	= "SOSUserDBLayerTest";
    private SOSUserDBLayer sosUserDBLayer;
    private String configurationFilename="c:/temp/hibernate.cfg.xml";
    private File configurationFile;

	
	
 
	public SOSUserDBLayerTest() {
	 
	}

	@BeforeClass
	public static void setUpBeforeClass() throws Exception {
	}

	@AfterClass
	public static void tearDownAfterClass() throws Exception {
	}

	@Before
	public void setUp() throws Exception {
        configurationFile = new File(configurationFilename);
		sosUserDBLayer = new SOSUserDBLayer(configurationFile);
	}

	@After
	public void tearDown() throws Exception {
	}

	@Test
	public void testDaysSchedulerDBLayer() {
		SOSUserDBLayer SOSUserDBLayer = new SOSUserDBLayer(configurationFile);
		SOSUserDBLayer.beginTransaction();
		SOSUserDBLayer.commit();
	}


	 
 
    @Test
	public void testSetWhereUserName() {
    	String myUserName = "ur";
 		sosUserDBLayer.getFilter().setUserName(myUserName);
		List<SOSUserDBItem>  sosUserList  = sosUserDBLayer.getSOSUserList(0);
		SOSUserDBItem sosUserDBItem = sosUserList.get(0);
		String s = sosUserDBItem.getSosUserPassword();
		SOSUser2RoleDBItem sosUser2RoleDBItem = sosUserDBItem.getSOSUserRoleDBItems().get(0);
		s = sosUser2RoleDBItem.getSosUserRoleDBItem().getSosUserRole();
		SOSUserRightDBItem sosUserRightDBItem =  sosUserDBItem.getSOSUserRightDBItems().get(0);
		s = sosUserRightDBItem.getSosUserRight();
	    sosUserRightDBItem =  sosUser2RoleDBItem.getSosUserRoleDBItem().getSOSUserRightDBItems().get(0);
        s = sosUserRightDBItem.getSosUserRight();
	            
		assertEquals(1, sosUserList.size());      
	}

 
	
	
	
	
}
