<?xml version="1.0" encoding="UTF-8"?>
<!-- $Id$ -->

<?xml-stylesheet type="text/xsl" href="scheduler_job_documentation_v1.1.xsl"?>
<description xmlns="http://www.sos-berlin.com/schema/scheduler_job_documentation_v1.1"
xmlns:xhtml="http://www.w3.org/1999/xhtml"
xmlns:xi="http://www.w3.org/2001/XInclude"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.sos-berlin.com/schema/scheduler_job_documentation_v1.1
    http://www.sos-berlin.com/schema/scheduler_job_documentation_v1.1.xsd"  >

    <job name="JobSchedulerCheckEvents" title="Check if events exist" order="yes" tasks="1">
        <script language="java" java_class="com.sos.jitl.eventing.JobSchedulerCheckEvents" resource="1" />
    </job>

    <releases>
        <release id="1.0" created="2008-06-25" modified="2008-06-25">
            <title>Version 1.0</title>
            <author name="Andreas Liebert" email="andreas.liebert@sos-berlin.com" />
            <note language="de">
                <div xmlns="http://www.w3.org/1999/xhtml">
                    Initiale Auslieferung
                </div>
            </note>
            <note language="en">
                <div xmlns="http://www.w3.org/1999/xhtml">
                    Initial Release
                </div>
            </note>
        </release>
    </releases>

    <resources>
        <xi:include href="./jars/sos.scheduler.jar.xml" parse="xml" />
        <xi:include href="./jars/sos.spooler.jar.xml" parse="xml" />
        <xi:include href="./jars/sos.util.jar.xml" parse="xml" />
        <xi:include href="./jars/log4j.jar.xml" parse="xml" />
        <xi:include href="./jars/sos.JSHelper.jar.xml" parse="xml" />
    </resources>

    <configuration>

        <params id="job_parameter">
            <param name="scheduler_event_xpath" required="false" DataType="SOSOptionString">
                <note language="de">
                    <title>XPath Event Ausdruck</title>
                    <p>
                        Der Parameter gibt einen XPath Ausdruck an, der auf die xml-Repräsentation der Events
                        angewendet wird.
                        Liefert der XPath Ausdruck ein
                        Ergebnis, so wird der Auftrag in
                        den next_state weitergeleitet.
                        </p><p>
                        Liefert der XPath Ausdruck kein Ergebnis, so wird der Auftrag in den error_state
                        weitergeleitet.
                        </p><p>
                    </p>
                </note>
                <note language="en">
                    <title>XPath Event Expression</title>
                    <p>
                        This parameter specifes an XPath query which is applied on the xml representation of
                        the Scheduler Event.
                        If the XPath query returns a
                        result, the order will be set
                        to the next_state.
                        </p><p>
                        If the XPath query returns no result, the order will be set
                        to the error_state.
                        </p><p>
                    </p>
                </note>
                <note>
                <p>
                    <codeexample os="all" type="xml">
                        <title language="en">XPath example1</title>
                        <title language="de">XPath example1</title>
                        <embeddedExample type="xml">
                        <![CDATA[//event[@event_class='foo'] ]]>
                        </embeddedExample>
                        <explanation language="de">
                            <p>
                                Successfull if an Event of the event class "foo" exists
                            </p>
                        </explanation>
                        <explanation language="en">
                            <p>
                                Successfull if an Event of the event class "foo" exists
                            </p>
                        </explanation>
                    </codeexample>

                    <codeexample os="all" type="xml">
                        <title language="en">XPath example2</title>
                        <title language="de">XPath example2</title>
                        <embeddedExample type="xml">
                        <![CDATA[//events[event[@event_class='foo'] and events[event[@event_class='bar']]]]>
                        </embeddedExample>
                        <explanation language="de">
                            <p>
                                Successfull if an Event of the event class "foo" and an Event of the event class "bar" exists
                            </p>
                        </explanation>
                        <explanation language="en">
                            <p>
                                Successfull if an Event of the event class "foo" and an Event of the event class "bar" exists
                            </p>
                        </explanation>
                    </codeexample>

                    <codeexample os="all" type="xml">
                        <title language="en">XPath example3</title>
                        <title language="de">XPath example3</title>
                        <embeddedExample type="xml">
                        <![CDATA[//events[not(event[@event_class='foo'])]]]>
                        </embeddedExample>
                        <explanation language="de">
                            <p>
                                Successfull if there is no Event of the event class "foo"
                            </p>
                        </explanation>
                        <explanation language="en">
                            <p>
                                Successfull if there is no Event of the event class "foo"
                            </p>
                        </explanation>
                    </codeexample>
                </p>

                </note>
            </param>

            <param name="EventClassName" required="false" default_value="" DataType="SOSOptionString" Category="Events" OptionName="EventClassName" Alias=""
                usewith="" see="" since="1.3.12.3040">

                <indexterm index="EventClassName" display="false"></indexterm>

                <note language="de">
                    <title>EventClassName</title>
                    <xhtml:div xmlns:xhtml="http://www.w3.org/1999/xhtml">
                        <p>

                        </p>
                    </xhtml:div>
                </note>
                <note language="en">
                    <title>EventClassName</title>
                    <p>
                    </p>
                </note>
            </param>

            <param name="EventNames" required="false" default_value="" DataType="SOSOptionString" Category="Events" OptionName="EventNames" Alias=""
                usewith="" see="" since="1.3.12.3040">

                <indexterm index="EventNames, parameter" display="false"></indexterm>

                <note language="de">
                    <title>EventNames</title>
                    <p>

                    </p>
                </note>
                <note language="en">
                    <title>EventNames</title>
                    <p>
                    </p>
                </note>
            </param>

            <param name="scheduler_event_handler_host" required="false" DataType="SOSOptionHostName" Alias="EventService">
                <indexterm index="EventHandlerHost, parameter" display="false" />

                <note language="de">
                    <title>EventService Host-Name</title>
                    <p>
                        Setzt einen anderen JobScheduler (als den Supervisor) als Event Service.
                    </p>
                </note>
                <note language="en">
                    <title>EventService Host-Name</title>
                    <p>
                        Uses a JobScheduler (other than the supervisor) as event handler
                    </p>
                </note>
            </param>

            <param name="scheduler_event_handler_port" required="false" DataType="SOSOptionPortNumber" Alias="EventServicePort">
                <indexterm index="EventHandlerPort, parameter" display="false" />
                <note language="de">
                    <title>EventService Port-Nummer</title>
                    <p>
                        Setzt einen anderen Scheduler (als den Supervisor) als Event Service
                    </p>
                </note>
                <note language="en">
                    <title>EventService port number</title>
                    <p>
                        Defines a JobScheduler (other than the supervisor) as event service.
                    </p>
                </note>
            </param>
        </params>
        <params id="return_parameter">
        </params>

    </configuration>

    <documentation language="de">
        <div xmlns="http://www.w3.org/1999/xhtml">
            Jobs des JobSchedulers können Events erzeugen, die von einer JobScheduler
            Supervisor Instanz verarbeitet werden. Dieser Job kann prüfen, ob bestimmte
            Events
            existieren. Dazu verarbeitet er Aufträge, die eine Spezifikation der Events enthalten.
            Je nach dem, ob die Events existieren oder nicht, wird
            der Auftrag in den
            <code>next_state</code>
            oder in den
            <code>error_state</code>
            gesetzt.
        </div>
    </documentation>

    <documentation language="en">
        <div xmlns="http://www.w3.org/1999/xhtml">
            During job execution in a JobScheduler instance events could be created
            that should be processed by a JobScheduler Supervisor Instance. This
            job
            checks if certain events exists. The job processes orders which are configured
            with an event specification. Depending on whether these events
            exist or
            not the
            order will be put into the
            <code>next_state</code>
            or into the
            <code>error_state</code>
            .
        </div>
    </documentation>

</description>